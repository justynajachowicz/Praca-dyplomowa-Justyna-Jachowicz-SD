<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Produkty</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" rel="stylesheet">
    <link href="/webjars/bootstrap/4.5.0/css/bootstrap.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" th:href="@{../css/styles.css}"/>
    <script type="text/javascript" src="/webjars/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" th:src="@{../js/application.js}"></script>
</head>

<body>
<div>
    <div class="mt-5"><a class="link-primary" th:href="@{/logout}">Wyloguj się</a></div>

    <section>
        <div class="jumbotron">
            <div class="container">
                <h1>Produkty</h1>
                <p>Lista wszystkich produktów</p>
            </div>
        </div>
    </section>

    <section class="container">
        <div class="row">
            <table class="table table-bordered table-hover">
                <tr>
                    <th>Id</th>
                    <th>Nazwa</th>
                    <th>Marka</th>
                    <th>Gramatura</th>
                    <th>Akcja</th>

                </tr>

                <tr th:each="product : ${products}">
                    <td th:text="${product.productId}"></td>
                    <td th:text="${product.productName}"></td>
                    <td th:text="${product.brand}"></td>
                    <td th:text="${product.weight}"></td>
                    <td class="editCustom"><a th:href="${'/administration/product/edit/' + product.productId}" class="btn btn-info"
                                              id="editButton" th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">Edytuj</a>
                    <a th:href="${'/product/delete/' + product.productId}" class="btn btn-danger"
                       id="deleteButton" th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">Usuń</a>
                    <a th:href="${'/user/cart/add/' + product.productId}" class="btn btn-warning" id="addProductButton">
                        Dodaj do listy
                    </a></td>

                </tr>
            </table>
        </div>
    </section>

    <div class="modal" tabindex="-1" role="dialog" id="deleteModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Potwierdź usunięcie</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Jesteś pewien, że chcesz usunąć ten rekord?</p>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-primary" id="delRef">Tak, usuń</a>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Zamknij</button>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>