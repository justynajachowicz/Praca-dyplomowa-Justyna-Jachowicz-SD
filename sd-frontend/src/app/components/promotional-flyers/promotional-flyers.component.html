<div class="flyers-container">
  <h2>Aktualne gazetki promocyjne {{ getStoreName() }}</h2>

  <!-- Store selection buttons -->
  <div class="store-selector">
    <button 
      class="store-button" 
      [class.active]="currentStore === 'biedronka'"
      (click)="switchStore('biedronka')"
    >
      Biedronka
    </button>
    <button 
      class="store-button" 
      [class.active]="currentStore === 'lidl'"
      (click)="switchStore('lidl')"
    >
      Lidl
    </button>
    <button 
      class="store-button" 
      [class.active]="currentStore === 'kaufland'"
      (click)="switchStore('kaufland')"
    >
      Kaufland
    </button>
    <button 
      class="store-button" 
      [class.active]="currentStore === 'auchan'"
      (click)="switchStore('auchan')"
    >
      Auchan
    </button>
  </div>

  <div class="flyer-viewer">
    <div class="flyer-navigation">
      <button 
        class="nav-button prev-button" 
        (click)="previousFlyer()" 
        [disabled]="isFirstFlyer()"
      >
        &lt; Poprzednia
      </button>

      <span class="flyer-counter">
        {{ currentFlyerIndex + 1 }} / {{ flyers.length }}
      </span>

      <button 
        class="nav-button next-button" 
        (click)="nextFlyer()" 
        [disabled]="isLastFlyer()"
      >
        Następna &gt;
      </button>
    </div>

    <div class="flyer-image-container">
      <img 
        [src]="getCurrentFlyer()" 
        alt="Gazetka promocyjna {{ getStoreName() }}" 
        class="flyer-image"
        (error)="handleImageError($event)"
      />
      <div *ngIf="imageError" class="image-error-message">
        <p>Przepraszamy, nie można załadować obrazu gazetki promocyjnej.</p>
        <p>Prosimy spróbować ponownie później.</p>
      </div>
    </div>
  </div>

  <div class="back-button-container">
    <button class="back-button" (click)="goBack()">Powrót</button>
  </div>
</div>
