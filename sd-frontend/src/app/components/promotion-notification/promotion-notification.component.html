<div class="notification-container" *ngIf="authService.isLoggedIn() && !authService.isAdmin()">
  <div class="notification-icon" (click)="toggleNotifications()">
    <i class="material-icons">notifications</i>
    <span class="badge" *ngIf="promotions.length > 0">{{ promotions.length }}</span>
  </div>
  
  <div class="notification-panel" *ngIf="showNotifications">
    <div class="notification-header">
      <h3>Promocje na ulubione produkty</h3>
      <button class="close-btn" (click)="toggleNotifications()">×</button>
    </div>
    
    <div class="notification-content">
      <div *ngIf="loading" class="loading">Ładowanie promocji...</div>
      
      <div *ngIf="error" class="error">{{ error }}</div>
      
      <div *ngIf="!loading && !error && promotions.length === 0" class="empty-message">
        Brak aktualnych promocji na Twoje ulubione produkty.
      </div>
      
      <div *ngIf="promotions.length > 0" class="promotions-list">
        <div *ngFor="let promotion of promotions" class="promotion-item">
          <div class="promotion-details">
            <h4>{{ promotion.name || promotion.productName }}</h4>
            <p class="store">Sklep: {{ promotion.store }}</p>
            <p class="price">Cena promocyjna: {{ promotion.price | currency:'PLN' }}</p>
            <p *ngIf="promotion.city" class="city">Miasto: {{ promotion.city }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>